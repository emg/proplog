<IfModule mod_ssl.c>
<VirtualHost *:443>
	Define serverdns logic.aau.dk

        ServerName ${serverdns}
	Define webroot /srv/web/default
	
	RewriteEngine on
	Include /srv/conf/apache2/includes/rewrite_add_www.conf
	Include /srv/conf/apache2/includes/rewrite_remove_www.conf

	DocumentRoot ${webroot}/http

	<Directory ${webroot}/http>
		Require all granted
	</Directory>

	<Directory ${webroot}/git/proplog/backend/Django/logproplogsite>
		Require all granted
	</Directory>

	<Directory ${webroot}/virtualenv>
		Require all granted
	</Directory>

	# Log levels: trace8, ..., trace1, debug, info, notice, warn,
        # error, crit, alert, emerg.
	LogLevel warn rewrite:trace1
	ErrorLog ${webroot}/log/error.log
	CustomLog ${webroot}/log/access.log combined


ServerAlias ${serverdns}
SSLCertificateFile /etc/letsencrypt/live/${serverdns}/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/${serverdns}/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
</IfModule>
